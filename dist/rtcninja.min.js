/*
 * rtcninja.js v0.7.0
 * WebRTC API wrapper to deal with different browsers
 * Copyright 2016 Iñaki Baz Castillo <inaki.baz@eface2face.com> (http://eface2face.com)
 * License MIT
 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.rtcninja=e()}}(function(){var e;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){(function(n){"use strict";function i(e){function t(e){return function(){throw new Error("rtcninja: WebRTC not supported, missing "+e+" [browser: "+r.name+" "+r.version+"]")}}if(y&&r.chrome&&v>=32||r.android&&r.chrome&&v>=39||y&&r.opera&&v>=27||r.android&&r.opera&&v>=24||r.android&&r.webkit&&!r.chrome&&v>=37||T.webkitGetUserMedia&&C.webkitRTCPeerConnection)b=!0,s=T.webkitGetUserMedia.bind(T),c=T.mediaDevices,d=C.webkitRTCPeerConnection,l=C.RTCSessionDescription,u=C.RTCIceCandidate,p=C.MediaStreamTrack,p&&p.getSources?f=p.getSources.bind(p):T.getMediaDevices&&(f=T.getMediaDevices.bind(T)),m=function(e,t){return e.src=URL.createObjectURL(t),e},g=!0,h=!1;else if(r.firefox&&v<47||T.mozGetUserMedia&&C.mozRTCPeerConnection)b=!0,s=T.mozGetUserMedia.bind(T),c=T.mediaDevices,d=C.mozRTCPeerConnection,l=C.mozRTCSessionDescription,u=C.mozRTCIceCandidate,p=C.MediaStreamTrack,m=function(e,t){return e.src=URL.createObjectURL(t),e},g=!1,h=!1;else if((r.firefox||r.gecko)&&v>=47)b=!0,s=T.mozGetUserMedia.bind(T),c=T.mediaDevices,d=C.RTCPeerConnection,l=C.RTCSessionDescription,u=C.RTCIceCandidate,p=C.MediaStreamTrack,m=function(e,t){return e.src=URL.createObjectURL(t),e},g=!1,h=!1;else if(e.plugin&&"function"==typeof e.plugin.isRequired&&e.plugin.isRequired()&&"function"==typeof e.plugin.isInstalled&&e.plugin.isInstalled()){var n=e.plugin["interface"];b=!0,s=n.getUserMedia,c=n.mediaDevices,d=n.RTCPeerConnection,l=n.RTCSessionDescription,u=n.RTCIceCandidate,p=n.MediaStreamTrack,p&&p.getSources?f=p.getSources.bind(p):T.getMediaDevices&&(f=T.getMediaDevices.bind(T)),m=n.attachMediaStream,g=n.canRenegotiate,h=!0}else T.getUserMedia&&C.RTCPeerConnection&&(b=!0,s=T.getUserMedia.bind(T),c=T.mediaDevices,d=C.RTCPeerConnection,l=C.RTCSessionDescription,u=C.RTCIceCandidate,p=C.MediaStreamTrack,p&&p.getSources?f=p.getSources.bind(p):T.getMediaDevices&&(f=T.getMediaDevices.bind(T)),m=C.attachMediaStream||function(e,t){return e.src=URL.createObjectURL(t),e},g=!0,h=!1);return i.hasWebRTC=function(){return b},s?i.getUserMedia=function(e,t,n){o("getUserMedia() | constraints: %o",e);try{s(e,function(e){o("getUserMedia() | success"),t&&t(e)},function(e){o("getUserMedia() | error:",e),n&&n(e)})}catch(i){a("getUserMedia() | error:",i),n&&n(i)}}:i.getUserMedia=function(e,n,i){a("getUserMedia() | WebRTC not supported"),i?i(new Error("rtcninja: WebRTC not supported, missing getUserMedia [browser: "+r.name+" "+r.version+"]")):t("getUserMedia")},i.mediaDevices=c,i.RTCPeerConnection=d||t("RTCPeerConnection"),i.RTCSessionDescription=l||t("RTCSessionDescription"),i.RTCIceCandidate=u||t("RTCIceCandidate"),i.MediaStreamTrack=p||t("MediaStreamTrack"),i.getMediaDevices=f,i.attachMediaStream=m||t("attachMediaStream"),i.canRenegotiate=g,i.closeMediaStream=function(e){if(e)try{o("closeMediaStream() | calling stop() on all the MediaStreamTrack");var t,n,i;if(e.getTracks)for(t=e.getTracks(),n=0,i=t.length;n<i;n+=1)t[n].stop();else{for(t=e.getAudioTracks(),n=0,i=t.length;n<i;n+=1)t[n].stop();for(t=e.getVideoTracks(),n=0,i=t.length;n<i;n+=1)t[n].stop()}}catch(r){"function"!=typeof e.stop&&"object"!=typeof e.stop||(o("closeMediaStream() | calling stop() on the MediaStream"),e.stop())}},i.fixPeerConnectionConfig=function(e){var t,n,i,r,o;for(Array.isArray(e.iceServers)||(e.iceServers=[]),t=0,n=e.iceServers.length;t<n;t+=1)i=e.iceServers[t],r=i.hasOwnProperty("urls"),o=i.hasOwnProperty("url"),"object"==typeof i&&(r&&!o?i.url=Array.isArray(i.urls)?i.urls[0]:i.urls:!r&&o&&(i.urls=Array.isArray(i.url)?i.url.slice():i.url),o&&Array.isArray(i.url)&&(i.url=i.url[0]))},i.fixRTCOfferOptions=function(e){e=e||{},h?(e.hasOwnProperty("offerToReceiveAudio")&&(e.mandatory=e.mandatory||{},e.mandatory.OfferToReceiveAudio=!!e.offerToReceiveAudio),e.hasOwnProperty("offerToReceiveVideo")&&(e.mandatory=e.mandatory||{},e.mandatory.OfferToReceiveVideo=!!e.offerToReceiveVideo)):(e.mandatory&&e.mandatory.hasOwnProperty("OfferToReceiveAudio")&&(e.offerToReceiveAudio=e.mandatory.OfferToReceiveAudio?1:0),e.mandatory&&e.mandatory.hasOwnProperty("OfferToReceiveVideo")&&(e.offerToReceiveVideo=e.mandatory.OfferToReceiveVideo?1:0),delete e.mandatory)},i}t.exports=i;var r=e("bowser"),o=e("debug")("rtcninja:Adapter"),a=e("debug")("rtcninja:ERROR:Adapter"),s=null,c=null,d=null,l=null,u=null,p=null,f=null,m=null,g=!1,h=!1,v=Number(r.version)||0,y=!(r.mobile||r.tablet&&!(r.msie&&v>=10)),b=!1,C=n.window||n,T=C.navigator||{};a.log=console.warn.bind(console)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bowser:5,debug:6}],2:[function(e,t,n){"use strict";function i(e,t){u("new | [pcConfig:%o, pcConstraints:%o]",e,t),r.call(this,e),this.pcConstraints=t,this.ourLocalDescription=null,this.ourSignalingState=null,this.ourIceConnectionState=null,this.ourIceGatheringState=null,this.timerGatheringTimeout=null,this.timerGatheringTimeoutAfterRelay=null,this.ignoreIceGathering=!1,this.closed=!1,s.call(this),d.call(this)}function r(e){this.pcConfig=l(!0,e),f.fixPeerConnectionConfig(this.pcConfig),this.options={iceTransportsRelay:"relay"===this.pcConfig.iceTransports,iceTransportsNone:"none"===this.pcConfig.iceTransports,gatheringTimeout:this.pcConfig.gatheringTimeout,gatheringTimeoutAfterRelay:this.pcConfig.gatheringTimeoutAfterRelay},delete this.pcConfig.gatheringTimeout,delete this.pcConfig.gatheringTimeoutAfterRelay,u("setConfigurationAndOptions | processed pcConfig: %o",this.pcConfig)}function o(){return this.closed||this.pc&&"closed"===this.pc.iceConnectionState}function a(){var e=this,t=this.pc;t.onnegotiationneeded=function(t){o.call(e)||(u("onnegotiationneeded()"),e.onnegotiationneeded&&e.onnegotiationneeded(t))},t.onicecandidate=function(t){var n,i,r;if(!o.call(e)&&!e.ignoreIceGathering&&!e.options.iceTransportsNone)if(n=t.candidate){if(i=m.REGEXP_RELAY_CANDIDATE.test(n.candidate),e.options.iceTransportsRelay&&!i)return;i&&!e.timerGatheringTimeoutAfterRelay&&"number"==typeof e.options.gatheringTimeoutAfterRelay&&(u("onicecandidate() | first relay candidate found, ending gathering in %d ms",e.options.gatheringTimeoutAfterRelay),e.timerGatheringTimeoutAfterRelay=setTimeout(function(){o.call(e)||(u("forced end of candidates after timeout"),delete e.timerGatheringTimeoutAfterRelay,clearTimeout(e.timerGatheringTimeout),delete e.timerGatheringTimeout,e.ignoreIceGathering=!0,e.onicecandidate&&e.onicecandidate({candidate:null},null))},e.options.gatheringTimeoutAfterRelay)),r=new f.RTCIceCandidate({sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,candidate:n.candidate}),null===g.normalizeCandidate&&(m.REGEXP_NORMALIZED_CANDIDATE.test(n.candidate)?g.normalizeCandidate=!1:(u('onicecandidate() | normalizing ICE candidates syntax (remove "a=" and "\\r\\n")'),g.normalizeCandidate=!0)),g.normalizeCandidate&&(r.candidate=n.candidate.replace(m.REGEXP_FIX_CANDIDATE,"")),u("onicecandidate() | m%d(%s) %s",r.sdpMLineIndex,r.sdpMid||"no mid",r.candidate),e.onicecandidate&&e.onicecandidate(t,r)}else u("onicecandidate() | end of candidates"),clearTimeout(e.timerGatheringTimeout),delete e.timerGatheringTimeout,clearTimeout(e.timerGatheringTimeoutAfterRelay),delete e.timerGatheringTimeoutAfterRelay,e.onicecandidate&&e.onicecandidate(t,null)},t.onaddstream=function(t){o.call(e)||(u("onaddstream() | stream: %o",t.stream),e.onaddstream&&e.onaddstream(t,t.stream))},t.onremovestream=function(t){o.call(e)||(u("onremovestream() | stream: %o",t.stream),e.onremovestream&&e.onremovestream(t,t.stream))},t.ondatachannel=function(t){o.call(e)||(u("ondatachannel() | datachannel: %o",t.channel),e.ondatachannel&&e.ondatachannel(t,t.channel))},t.onsignalingstatechange=function(n){t.signalingState!==e.ourSignalingState&&(u("onsignalingstatechange() | signalingState: %s",t.signalingState),e.ourSignalingState=t.signalingState,e.onsignalingstatechange&&e.onsignalingstatechange(n,t.signalingState))},t.oniceconnectionstatechange=function(n){t.iceConnectionState!==e.ourIceConnectionState&&(u("oniceconnectionstatechange() | iceConnectionState: %s",t.iceConnectionState),e.ourIceConnectionState=t.iceConnectionState,e.oniceconnectionstatechange&&e.oniceconnectionstatechange(n,t.iceConnectionState))},t.onicegatheringstatechange=function(n){o.call(e)||t.iceGatheringState!==e.ourIceGatheringState&&(u("onicegatheringstatechange() | iceGatheringState: %s",t.iceGatheringState),e.ourIceGatheringState=t.iceGatheringState,e.onicegatheringstatechange&&e.onicegatheringstatechange(n,t.iceGatheringState))},t.onidentityresult=function(t){o.call(e)||(u("onidentityresult()"),e.onidentityresult&&e.onidentityresult(t))},t.onpeeridentity=function(t){o.call(e)||(u("onpeeridentity()"),e.onpeeridentity&&e.onpeeridentity(t))},t.onidpassertionerror=function(t){o.call(e)||(u("onidpassertionerror()"),e.onidpassertionerror&&e.onidpassertionerror(t))},t.onidpvalidationerror=function(t){o.call(e)||(u("onidpvalidationerror()"),e.onidpvalidationerror&&e.onidpvalidationerror(t))}}function s(){this.pcConstraints?this.pc=new f.RTCPeerConnection(this.pcConfig,this.pcConstraints):this.pc=new f.RTCPeerConnection(this.pcConfig),a.call(this)}function c(){var e=this.pc,t=this.options,n=null;return e.localDescription?(t.iceTransportsRelay?n=e.localDescription.sdp.replace(m.REGEXP_SDP_NON_RELAY_CANDIDATES,""):t.iceTransportsNone&&(n=e.localDescription.sdp.replace(m.REGEXP_SDP_CANDIDATES,"")),this.ourLocalDescription=new f.RTCSessionDescription({type:e.localDescription.type,sdp:n||e.localDescription.sdp}),this.ourLocalDescription):(this.ourLocalDescription=null,null)}function d(){var e=this;Object.defineProperties(this,{peerConnection:{get:function(){return e.pc}},signalingState:{get:function(){return e.pc.signalingState}},iceConnectionState:{get:function(){return e.pc.iceConnectionState}},iceGatheringState:{get:function(){return e.pc.iceGatheringState}},localDescription:{get:function(){return c.call(e)}},remoteDescription:{get:function(){return e.pc.remoteDescription}},peerIdentity:{get:function(){return e.pc.peerIdentity}}})}t.exports=i;var l=e("merge"),u=e("debug")("rtcninja:RTCPeerConnection"),p=e("debug")("rtcninja:ERROR:RTCPeerConnection"),f=e("./Adapter"),m={REGEXP_NORMALIZED_CANDIDATE:new RegExp(/^candidate:/i),REGEXP_FIX_CANDIDATE:new RegExp(/(^a=|\r|\n)/gi),REGEXP_RELAY_CANDIDATE:new RegExp(/ relay /i),REGEXP_SDP_CANDIDATES:new RegExp(/^a=candidate:.*\r\n/gim),REGEXP_SDP_NON_RELAY_CANDIDATES:new RegExp(/^a=candidate:(.(?!relay ))*\r\n/gim)},g={normalizeCandidate:null};p.log=console.warn.bind(console),i.prototype.createOffer=function(e,t,n){u("createOffer()");var i=this;f.fixRTCOfferOptions(n),this.pc.createOffer(function(t){o.call(i)||(u("createOffer() | success"),e&&e(t))},function(e){o.call(i)||(p("createOffer() | error:",e),t&&t(e))},n)},i.prototype.createAnswer=function(e,t,n){u("createAnswer()");var i=this;this.pc.createAnswer(function(t){o.call(i)||(u("createAnswer() | success"),e&&e(t))},function(e){o.call(i)||(p("createAnswer() | error:",e),t&&t(e))},n)},i.prototype.setLocalDescription=function(e,t,n){function i(){"number"==typeof r.options.gatheringTimeout&&"complete"!==r.pc.iceGatheringState&&(u("setLocalDescription() | ending gathering in %d ms (gatheringTimeout option)",r.options.gatheringTimeout),r.timerGatheringTimeout=setTimeout(function(){o.call(r)||(u("forced end of candidates after gatheringTimeout timeout"),delete r.timerGatheringTimeout,clearTimeout(r.timerGatheringTimeoutAfterRelay),delete r.timerGatheringTimeoutAfterRelay,r.ignoreIceGathering=!0,r.onicecandidate&&r.onicecandidate({candidate:null},null))},r.options.gatheringTimeout))}u("setLocalDescription()");var r=this;this.pc.setLocalDescription(e,function(){o.call(r)||(u("setLocalDescription() | success"),clearTimeout(r.timerGatheringTimeout),delete r.timerGatheringTimeout,clearTimeout(r.timerGatheringTimeoutAfterRelay),delete r.timerGatheringTimeoutAfterRelay,i(),t&&t())},function(e){o.call(r)||(p("setLocalDescription() | error:",e),n&&n(e))}),this.ignoreIceGathering=!1},i.prototype.setRemoteDescription=function(e,t,n){u("setRemoteDescription()");var i=this;this.pc.setRemoteDescription(e,function(){o.call(i)||(u("setRemoteDescription() | success"),t&&t())},function(e){o.call(i)||(p("setRemoteDescription() | error:",e),n&&n(e))})},i.prototype.updateIce=function(e){u("updateIce() | pcConfig: %o",e),r.call(this,e),this.pc.updateIce(this.pcConfig),this.ignoreIceGathering=!1},i.prototype.addIceCandidate=function(e,t,n){u("addIceCandidate() | candidate: %o",e);var i=this;this.pc.addIceCandidate(e,function(){o.call(i)||(u("addIceCandidate() | success"),t&&t())},function(e){o.call(i)||(p("addIceCandidate() | error:",e),n&&n(e))})},i.prototype.getConfiguration=function(){return u("getConfiguration()"),this.pc.getConfiguration()},i.prototype.getLocalStreams=function(){return u("getLocalStreams()"),this.pc.getLocalStreams()},i.prototype.getRemoteStreams=function(){return u("getRemoteStreams()"),this.pc.getRemoteStreams()},i.prototype.getStreamById=function(e){return u("getStreamById() | streamId: %s",e),this.pc.getStreamById(e)},i.prototype.addStream=function(e){u("addStream() | stream: %s",e),this.pc.addStream(e)},i.prototype.removeStream=function(e){u("removeStream() | stream: %o",e),this.pc.removeStream(e)},i.prototype.close=function(){u("close()"),this.closed=!0,clearTimeout(this.timerGatheringTimeout),delete this.timerGatheringTimeout,clearTimeout(this.timerGatheringTimeoutAfterRelay),delete this.timerGatheringTimeoutAfterRelay,this.pc.close()},i.prototype.createDataChannel=function(){return u("createDataChannel()"),this.pc.createDataChannel.apply(this.pc,arguments)},i.prototype.createDTMFSender=function(e){return u("createDTMFSender()"),this.pc.createDTMFSender?this.pc.createDTMFSender(e):null},i.prototype.getStats=function(){return u("getStats()"),this.pc.getStats.apply(this.pc,arguments)},i.prototype.setIdentityProvider=function(){return u("setIdentityProvider()"),this.pc.setIdentityProvider.apply(this.pc,arguments)},i.prototype.getIdentityAssertion=function(){return u("getIdentityAssertion()"),this.pc.getIdentityAssertion()},i.prototype.reset=function(e){u("reset() | pcConfig: %o",e);var t=this.pc;t.onnegotiationneeded=null,t.onicecandidate=null,t.onaddstream=null,t.onremovestream=null,t.ondatachannel=null,t.onsignalingstatechange=null,t.oniceconnectionstatechange=null,t.onicegatheringstatechange=null,t.onidentityresult=null,t.onpeeridentity=null,t.onidpassertionerror=null,t.onidpvalidationerror=null,clearTimeout(this.timerGatheringTimeout),delete this.timerGatheringTimeout,clearTimeout(this.timerGatheringTimeoutAfterRelay),delete this.timerGatheringTimeoutAfterRelay,u("reset() | closing current peerConnection"),t.close(),r.call(this,e),s.call(this)}},{"./Adapter":1,debug:6,merge:9}],3:[function(e,t,n){"use strict";function i(e){var t=c(e||{});return l=!0,i.RTCPeerConnection=d,i.getUserMedia=t.getUserMedia,i.mediaDevices=t.mediaDevices,i.RTCSessionDescription=t.RTCSessionDescription,i.RTCIceCandidate=t.RTCIceCandidate,i.MediaStreamTrack=t.MediaStreamTrack,i.getMediaDevices=t.getMediaDevices,i.attachMediaStream=t.attachMediaStream,i.closeMediaStream=t.closeMediaStream,i.canRenegotiate=t.canRenegotiate,t.hasWebRTC()?(o("WebRTC supported"),!0):(a("WebRTC not supported"),!1)}t.exports=i;var r=e("bowser"),o=e("debug")("rtcninja"),a=e("debug")("rtcninja:ERROR"),s=e("./version"),c=e("./Adapter"),d=e("./RTCPeerConnection"),l=!1;a.log=console.warn.bind(console),o("version %s",s),o("detected browser: %s %s [mobile:%s, tablet:%s, android:%s, ios:%s]",r.name,r.version,!!r.mobile,!!r.tablet,!!r.android,!!r.ios),i.hasWebRTC=function(){return l||i(),c.hasWebRTC()},Object.defineProperty(i,"version",{get:function(){return s}}),Object.defineProperty(i,"called",{get:function(){return l}}),i.debug=e("debug"),i.browser=r},{"./Adapter":1,"./RTCPeerConnection":2,"./version":4,bowser:5,debug:6}],4:[function(e,t,n){"use strict";t.exports=e("../package.json").version},{"../package.json":10}],5:[function(t,n,i){!function(t,i){"undefined"!=typeof n&&n.exports?n.exports=i():"function"==typeof e&&e.amd?e(t,i):this[t]=i()}("bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var i,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),s=!o&&/android/i.test(e),c=/nexus\s*[0-6]\s*/i.test(e),d=!c&&/nexus\s*[0-9]+/i.test(e),l=/CrOS/.test(e),u=/silk/i.test(e),p=/sailfish/i.test(e),f=/tizen/i.test(e),m=/(web|hpw)os/i.test(e),g=/windows phone/i.test(e),h=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),v=!r&&!u&&/macintosh/i.test(e),y=!s&&!p&&!f&&!m&&/linux/i.test(e),b=t(/edge\/(\d+(\.\d+)?)/i),C=t(/version\/(\d+(\.\d+)?)/i),T=/tablet/i.test(e),R=!T&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?i={name:"Opera",opera:a,version:C||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?i={name:"Opera",opera:a,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||C}:/SamsungBrowser/i.test(e)?i={name:"Samsung Internet for Android",samsungBrowser:a,version:C||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:a,version:C||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:a,version:C||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:a,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:a,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:a,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:a,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:a,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:a,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(i={name:"Windows Phone",windowsphone:a},b?(i.msedge=a,i.version=b):(i.msie=a,i.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:a,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",chromeos:a,chromeBook:a,chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:a,version:b}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:a,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||C}:p?i={name:"Sailfish",sailfish:a,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:a,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:a,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=a)):u?i={name:"Amazon Silk",silk:a,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:a,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:a,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",blackberry:a,version:C||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:m?(i={name:"WebOS",webos:a,version:C||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=a)):/bada/i.test(e)?i={name:"Bada",bada:a,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?i={name:"Tizen",tizen:a,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||C}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:a,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||C}:/chromium/i.test(e)?i={name:"Chromium",chromium:a,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||C}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:C}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:a},C&&(i.version=C)):r?(i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},C&&(i.version=C)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:t(/googlebot\/(\d+(\.\d+))/i)||C}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=a):(i.name=i.name||"Webkit",i.webkit=a),!i.version&&C&&(i.version=C)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=a,i.version=i.version||t(/gecko\/(\d+(\.\d+)?)/i)),i.msedge||!s&&!i.silk?r?(i[r]=a,i.ios=a):v?i.mac=a:S?i.xbox=a:h?i.windows=a:y&&(i.linux=a):i.android=a;var w="";i.windowsphone?w=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r?(w=t(/os (\d+([_\s]\d+)*) like mac os x/i),w=w.replace(/[_\s]/g,".")):s?w=t(/android[ \/-](\d+(\.\d+)*)/i):i.webos?w=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?w=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?w=t(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(w=t(/tizen[\/\s](\d+(\.\d+)*)/i)),w&&(i.osversion=w);var A=w.split(".")[0];return T||d||"ipad"==r||s&&(3==A||A>=4&&!R)||i.silk?i.tablet=a:(R||"iphone"==r||"ipod"==r||s||c||i.blackberry||i.webos||i.bada)&&(i.mobile=a),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=a:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=a:i.x=a,i}function t(e){return e.split(".").length}function n(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)i.push(t(e[n]));return i}function i(e){for(var i=Math.max(t(e[0]),t(e[1])),r=n(e,function(e){var r=i-t(e);return e+=new Array(r+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(r[0][i]>r[1][i])return 1;if(r[0][i]!==r[1][i])return-1;if(0===i)return 0}}function r(t,n,r){var o=s;"string"==typeof n&&(r=n,n=void 0),void 0===n&&(n=!1),r&&(o=e(r));var a=""+o.version;for(var c in t)if(t.hasOwnProperty(c)&&o[c])return i([a,t[c]])<0;return n}function o(e,t,n){return!r(e,t,n)}var a=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=r,s.compareVersions=i,s.check=o,s._detect=e,s})},{}],6:[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=o,n.formatArgs=r,n.save=a,n.load=s,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{"./debug":7}],7:[function(e,t,n){function i(){return n.colors[l++%n.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,o=t-(d||t);e.diff=o,e.prev=d,e.curr=t,d=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;s++;var r=n.formatters[i];if("function"==typeof r){var o=a[s];t=r.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var c=r.log||n.log||console.log.bind(console);c.apply(e,a)}t.enabled=!1,r.enabled=!0;var o=n.enabled(e)?r:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,r=0;r<i;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=r,n.coerce=c,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var d,l=0},{ms:8}],8:[function(e,t,n){function i(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*d;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=l?Math.round(e/l)+"d":e>=d?Math.round(e/d)+"h":e>=c?Math.round(e/c)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,d,"hour")||a(e,c,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,c=60*s,d=60*c,l=24*d,u=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?i(e):t["long"]?o(e):r(e)}},{}],9:[function(e,t,n){!function(e){function n(e,t){if("object"!==r(e))return t;for(var i in t)"object"===r(e[i])&&"object"===r(t[i])?e[i]=n(e[i],t[i]):e[i]=t[i];return e}function i(e,t,i){var a=i[0],s=i.length;(e||"object"!==r(a))&&(a={});for(var c=0;c<s;++c){var d=i[c],l=r(d);if("object"===l)for(var u in d){var p=e?o.clone(d[u]):d[u];t?a[u]=n(a[u],p):a[u]=p}}return a}function r(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var o=function(e){return i(e===!0,!1,arguments)},a="merge";o.recursive=function(e){return i(e===!0,!0,arguments)},o.clone=function(e){var t,n,i=e,a=r(e);if("array"===a)for(i=[],n=e.length,t=0;t<n;++t)i[t]=o.clone(e[t]);else if("object"===a){i={};for(t in e)i[t]=o.clone(e[t])}return i},e?t.exports=o:window[a]=o}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)},{}],10:[function(e,t,n){t.exports={name:"rtcninja",version:"0.7.0",description:"WebRTC API wrapper to deal with different browsers",author:"Iñaki Baz Castillo <inaki.baz@eface2face.com> (http://eface2face.com)",contributors:["Jesús Pérez <jesus.perez@eface2face.com>"],license:"MIT",main:"lib/rtcninja.js",homepage:"https://github.com/eface2face/rtcninja.js",repository:{type:"git",url:"https://github.com/eface2face/rtcninja.js.git"},keywords:["webrtc"],engines:{node:">=0.12.0"},dependencies:{bowser:"^1.4.6",debug:"^2.2.0",merge:"^1.2.0"},devDependencies:{browserify:"^13.1.0",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-expect-file":"0.0.7","gulp-filelog":"^0.4.1","gulp-header":"^1.8.8","gulp-jscs":"^3.0.2","gulp-jscs-stylish":"^1.4.0","gulp-jshint":"^2.0.1","gulp-rename":"^1.2.2","gulp-uglify":"^1.5.4",jshint:"^2.9.3","jshint-stylish":"^2.2.1","vinyl-source-stream":"^1.1.0"}}},{}]},{},[3])(3)});